$(document).ready(function(){function e(){var e=$(this),a=$(this).find(".work_desc"),t=$(this).find("img"),n=e.find("p"),o=e.find("h3");TweenMax.set(a,{visibility:"visible",autoAlpha:0}),TweenMax.set([n,o],{autoAlpha:0}),TweenMax.to(a,1,{autoAlpha:1}),TweenMax.to(t,3,{scale:1.2,rotationY:"-6deg",rotationX:"-6deg",transformOrigin:"top center",ease:Expo.easeOut}),TweenMax.fromTo(n,1,{autoAlpha:0,yPercent:"100%"},{autoAlpha:1,yPercent:"0%",ease:Power4.easeInOut,force3D:!0}),TweenMax.fromTo(o,1,{autoAlpha:0,yPercent:"100%"},{autoAlpha:1,yPercent:"0%",ease:Power4.easeInOut,force3D:!0})}function a(){var e=$(this),a=$(this).find(".work_desc"),t=$(this).find("img"),n=e.find("p"),o=e.find("h3");TweenMax.fromTo(o,1,{autoAlpha:1,yPercent:"0%"},{autoAlpha:0,yPercent:"100%",ease:Power4.easeInOut,force3D:!0}),TweenMax.fromTo(n,1,{autoAlpha:1,yPercent:"0%"},{autoAlpha:0,yPercent:"100%",ease:Power4.easeInOut,force3D:!0}),TweenMax.to(a,1,{autoAlpha:1}),TweenMax.to(t,3,{scale:1,rotationY:"0deg",rotationX:"0deg",transformOrigin:"top center",ease:Expo.easeOut}),TweenMax.set([n,o],{autoAlpha:0,onComplete:function(){TweenMax.to(a,1,{autoAlpha:0})}})}function t(){var e=$("#okPitchGone"),a=e.find("path"),t=new TimelineMax({yoyo:!0,paused:!0});t.set(e,{autoAlpha:1}).staggerFromTo(a,3,{drawSVG:"0",fill:"transparent",stroke:"gray",scale:1.1},{drawSVG:!0,fill:"#DBDBDB",stroke:"transparent",scale:1},.1).play()}function n(e){$.ajax({url:e,beforeSend:function(){o()}}).done(function(e){var a={},t=document.createElement("div");t.innerHTML=e,a.contents=t.querySelector(".works_wrapper").innerHTML,a.nextLink=t.querySelectorAll(".load-more").length>0?t.querySelector(".load-more").getAttribute("href"):"",i(a)})}function o(){$loadMore.html('<div class="spinner"></div>')}function r(){$loadMore.html('<div class="container"><span class="icon-plus"></span></div>')}function i(e){var a=$(".load-more"),t=$(".works_wrapper");""===e.nextLink?(a.attr("href",""),TweenMax.to(a,.3,{autoAlpha:0})):(a.attr("href",e.nextLink),r());var n=$(e.contents).appendTo(t).css({opacity:0}).addClass("justadded");TweenMax.staggerFromTo(".justadded",1,{autoAlpha:0,yPercent:"20%"},{autoAlpha:1,yPercent:"0%",z:.001,className:"-=justadded",force3D:!0},.2)}var s=$(".work");$("body").on("mouseenter",".work",e).on("mouseleave",".work",a);var l=function(){function e(){n.timeScale(1),n.play()}function a(){n.timeScale(2),n.reverse()}function t(){o.toggleClass("close-icon"),isOpen===!1?(e(),this.isOpen=isOpen=!0):(a(),this.isOpen=isOpen=!1)}var n=new TimelineMax({yoyo:!0,paused:!0,force3D:!0}),o=$(".nav-icon"),r=$(".offCanvasMenu"),i=r.find("li"),s=[r.find("h4"),r.find("p")],l=$(window).width(),c=$(window).height();this.isOpen=isOpen=!1;var d=function(){n.fromTo(r,.3,{autoAlpha:0,yPercent:"-100%"},{autoAlpha:1,yPercent:"0%",force3D:!0}).set(i,{display:"block",autoAlpha:0}).staggerFromTo(i,.6,{z:.001,autoAlpha:0,yPercent:"50%"},{autoAlpha:1,yPercent:"0%",force3D:!0,ease:Quad.easeOut},.2).staggerFromTo(s,.3,{autoAlpha:0,yPercent:"50%"},{autoAlpha:1,yPercent:"0%",force3D:!0},.1,"-=0.2"),o.on("click",t)};return{init:d}}();l.init();var c=function(){this.playHead=new TimelineMax({yoyo:!0,paused:!0}),$teaser=$("#teaser"),this.$teaserElems={main:$teaser,brands:$teaser.find(".brands"),ideas:$teaser.find(".ideas"),people:$teaser.find(".people"),experiences:$teaser.find(".experience"),shapes:$teaser.find("path")},this.init()};if(c.prototype.init=function(){this.playHead.set(this.$teaserElems.main,{autoAlpha:1}),this.playHead.staggerFromTo(this.$teaserElems.shapes,3,{drawSVG:"0",fill:"transparent",stroke:"gray",scale:1.1},{drawSVG:!0,fill:"#DBDBDB",stroke:"transparent",scale:1},.1),this.playHead.play()},myTeaser=new c,$("#okPitchGone").length>0)var d=$("#okPitchGone").waypoint({offset:"bottom-in-view",handler:function(){t()},triggerOnce:!0});$loadMore=$(".load-more"),$loadMore.on("click",function(e){$href=$(this).attr("href"),n($href),e.preventDefault()})});var body=document.body,timer;window.addEventListener("scroll",function(){clearTimeout(timer),body.classList.contains("disable-hover")||body.classList.add("disable-hover"),timer=setTimeout(function(){body.classList.remove("disable-hover")},200)},!1);